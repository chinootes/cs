<h1 id="object-type-conversion">Object Type Conversion<a aria-hidden="true" class="anchor-heading icon-link" href="#object-type-conversion"></a></h1>
<ul>
<li>
<p>Similarity with primitive conversion</p>
<p>  Converting from one type to another</p>
</li>
<li>
<p>Difference</p>
<p>  Primitive type variables store values. So when we convert from a larger to type to smaller type, we might end up loosing information.</p>
<p>  Reference variables on the other hand do not contain the object itself, but its reference. So when we convert types of objects, we're not changing the object, but we're just changing the label on the object, expanding or narrowing the opportunities to work with.</p>
<p>  Upcasting narrows the list of methods and properties available to this object and down casting can extend it.</p>
</li>
</ul>
<h2 id="upcasting-in-java"><a href="/cs/notes/0wsnptopg4m3w3wp2qtjngv">Upcasting</a> in Java<a aria-hidden="true" class="anchor-heading icon-link" href="#upcasting-in-java"></a></h2>
<p><a href="/cs/notes/t2gbxkwlzfl6ow9gkcn9vaf">Implicit Casting</a></p>
<h2 id="downcasting-in-java"><a href="/cs/notes/8h60y5yvyhfe2ts2gm228ub">Downcasting</a> in Java<a aria-hidden="true" class="anchor-heading icon-link" href="#downcasting-in-java"></a></h2>
<h2 id="syntax">Syntax<a aria-hidden="true" class="anchor-heading icon-link" href="#syntax"></a></h2>
<ul>
<li>
<p><a href="/cs/notes/iy76fyesfdptlmk2xwm9iom">Explicit Casting</a></p>
</li>
<li>
<p>Same as narrowing conversion in primitive data types</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">float</span> a <span class="token operator">=</span> <span class="token number">10.5</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> a<span class="token punctuation">;</span>

<span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">-</span>→ <span class="token number">10.5</span>
<span class="token function">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">-</span>→ <span class="token number">10</span>

<span class="token class-name">Animal</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Cat</span> cat <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Animal</span><span class="token punctuation">)</span> animal<span class="token punctuation">;</span>    
</code></pre>
</li>
<li>
<p>Another way</p>
<pre class="language-java"><code class="language-java"><span class="token class-name">Animal</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Cat</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isInstance</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token class-name">Cat</span> cat <span class="token operator">=</span> <span class="token class-name">Cat</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">cast</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
<h2 id="classcastexception"><a href="/cs/notes/9o86nbg2dro9c4zutzu7c9c">ClassCastException</a><a aria-hidden="true" class="anchor-heading icon-link" href="#classcastexception"></a></h2>
<p>That is why it is advised to use <em>instanceOf</em> check before downcasting.</p>
<ul>
<li>
<p>instanceOf</p>
<p>  Used to avoid the ClassCastException by checking if the object belongs to a certain type</p>
<pre class="language-java"><code class="language-java"><span class="token comment">//Example </span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>animal <span class="token keyword">instanceof</span> <span class="token class-name">Cat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Cat</span><span class="token punctuation">)</span> animal<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">meow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<pre class="language-java"><code class="language-java"><span class="token comment">//case 1</span>
<span class="token class-name">Dog</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Animal</span> animal <span class="token operator">=</span> dog<span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">Cat</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">instanceOf</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span>→ <span class="token boolean">false</span>

<span class="token comment">//case 2</span>
<span class="token class-name">Cat</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Animal</span> animal <span class="token operator">=</span> cat<span class="token punctuation">;</span>

cat<span class="token punctuation">.</span><span class="token function">meow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Cat</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">instanceOf</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span> <span class="token operator">-</span>→ <span class="token boolean">true</span>
</code></pre>
</li>
</ul>